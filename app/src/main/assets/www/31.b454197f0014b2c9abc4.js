(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{hNqY:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),r=e("mrSG"),o=e("xshe"),u=e("Enhb"),i=e("ZZ/e"),a=function(){function n(n,l,e,t){this.router=n,this.alertController=l,this.shared=e,this.qrScanner=t;var r=localStorage.getItem("profile");this.data=JSON.parse(r),this.userId=this.data.content.profile.user_id}return n.prototype.ngOnInit=function(){},n.prototype.ionViewWillLeave=function(){this.qrScanner.destroy()},n.prototype.ionViewWillEnter=function(){var n=this;this.qrScanner.prepare().then(function(l){l.authorized?(console.log("coming"),n.scanSub=n.qrScanner.scan().subscribe(function(l){console.log("Scanned something",l),n.ServiceCall(l),n.scanSub.unsubscribe(),n.qrScanner.destroy()}),n.qrScanner.show()):l.denied&&n.qrScanner.openSettings()}).catch(function(l){n.shared.displayNetworkUpdate(l)})},n.prototype.ServiceCall=function(n){var l=this;navigator.onLine?this.shared.ServiceCallUsePoints.ServiceCallRequestUsePointsData(this.userId,n).then(function(n){l.response=n,"error"==l.response.message?l.showAlerts(l.response.content,"Alert"):(localStorage.setItem("profile",JSON.stringify(l.response)),l.showAlerts("Successfully redeemed","Alert"))},function(n){}):this.shared.displayNetworkUpdate("No Internet Connection")},n.prototype.showAlerts=function(n,l){return r.b(this,void 0,void 0,function(){var e=this;return r.e(this,function(t){switch(t.label){case 0:return[4,this.alertController.create({header:l,subHeader:"",message:n,buttons:[{text:"Okay",handler:function(){e.router.navigate(["/menu/first/tabs/tab1"])}}]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},n}(),s=function(){return function(){}}(),c=e("pMnS"),b=e("oBZk"),p=e("ZYCi"),h=t.nb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]{--background:none transparent}"]],data:{}});function d(n){return t.Fb(0,[(n()(),t.pb(0,0,null,null,11,"ion-header",[],null,null,null,b.Y,b.q)),t.ob(1,49152,null,0,i.C,[t.h,t.k,t.z],null,null),(n()(),t.pb(2,0,null,0,9,"ion-toolbar",[],null,null,null,b.pb,b.H)),t.ob(3,49152,null,0,i.Db,[t.h,t.k,t.z],null,null),(n()(),t.pb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,b.M,b.e)),t.ob(5,49152,null,0,i.m,[t.h,t.k,t.z],null,null),(n()(),t.pb(6,0,null,0,2,"ion-back-button",[["defaulthref",""]],null,[[null,"click"]],function(n,l,e){var r=!0;return"click"===l&&(r=!1!==t.zb(n,8).onClick(e)&&r),r},b.K,b.c)),t.ob(7,49152,null,0,i.h,[t.h,t.k,t.z],null,null),t.ob(8,16384,null,0,i.i,[[2,i.jb],i.Jb],null,null),(n()(),t.pb(9,0,null,0,2,"ion-title",[],null,null,null,b.ob,b.G)),t.ob(10,49152,null,0,i.Bb,[t.h,t.k,t.z],null,null),(n()(),t.Eb(-1,0,["QRScanner"])),(n()(),t.pb(12,0,null,null,1,"ion-content",[],null,null,null,b.S,b.k)),t.ob(13,49152,null,0,i.v,[t.h,t.k,t.z],null,null)],null,null)}function f(n){return t.Fb(0,[(n()(),t.pb(0,0,null,null,1,"app-qa-scanner",[],null,null,null,d,h)),t.ob(1,114688,null,0,a,[p.m,i.a,u.a,o.a],null,null)],function(n,l){n(l,1,0)},null)}var S=t.lb("app-qa-scanner",a,f,{},{},[]),k=e("Ip0R"),g=e("gIcY");e.d(l,"QaScannerPageModuleNgFactory",function(){return v});var v=t.mb(s,[],function(n){return t.wb([t.xb(512,t.j,t.bb,[[8,[c.a,S]],[3,t.j],t.x]),t.xb(4608,k.l,k.k,[t.u,[2,k.r]]),t.xb(4608,g.m,g.m,[]),t.xb(4608,i.b,i.b,[t.z,t.g]),t.xb(4608,i.Ib,i.Ib,[i.b,t.j,t.q]),t.xb(4608,i.Mb,i.Mb,[i.b,t.j,t.q]),t.xb(1073742336,k.b,k.b,[]),t.xb(1073742336,g.k,g.k,[]),t.xb(1073742336,g.d,g.d,[]),t.xb(1073742336,i.Fb,i.Fb,[]),t.xb(1073742336,p.o,p.o,[[2,p.u],[2,p.m]]),t.xb(1073742336,s,s,[]),t.xb(1024,p.k,function(){return[[{path:"",component:a}]]},[])])})}}]);
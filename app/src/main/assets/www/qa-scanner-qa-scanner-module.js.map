{"version":3,"sources":["webpack:///./src/app/pages/qa-scanner/qa-scanner.module.ts","webpack:///./src/app/pages/qa-scanner/qa-scanner.page.html","webpack:///./src/app/pages/qa-scanner/qa-scanner.page.scss","webpack:///./src/app/pages/qa-scanner/qa-scanner.page.ts"],"names":[],"mappings":"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","file":"qa-scanner-qa-scanner-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { QaScannerPage } from './qa-scanner.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: QaScannerPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [QaScannerPage]\n})\nexport class QaScannerPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar >\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-back-button defaulthref=\\\"\\\"></ion-back-button>\\n        </ion-buttons>\\n    <ion-title>QRScanner</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content >\\n\\n\\n\\n</ion-content>\\n\"","module.exports = \"ion-content {\\n  --background: none transparent; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9BcHBsaWNhdGlvbnMvQU1QUFMvd3d3L21vbmtleUVudGVycHJpc2VzL01UIEJBVyBCQVcvbXRCYXdCYXctaW9uaWMvc3JjL2FwcC9wYWdlcy9xYS1zY2FubmVyL3FhLXNjYW5uZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksOEJBQWEsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3FhLXNjYW5uZXIvcWEtc2Nhbm5lci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gICAgLS1iYWNrZ3JvdW5kOiBub25lIHRyYW5zcGFyZW50O1xuICB9Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner/ngx';\nimport { HttpService } from '../../api/http.service';\nimport { AlertController } from '@ionic/angular';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-qa-scanner',\n  templateUrl: './qa-scanner.page.html',\n  styleUrls: ['./qa-scanner.page.scss'],\n})\nexport class QaScannerPage implements OnInit {\n  scanSub:any;\n  response:any;\n  data:any;\n  userId:any;\n  constructor(public router: Router,public alertController: AlertController,public shared: HttpService,private qrScanner: QRScanner) { \n\n    var profile = localStorage.getItem('profile');\n    this.data=JSON.parse(profile);\n    this.userId=this.data.content.profile.user_id\n\n  }\n\n  ngOnInit() {\n  }\n\n\n  ionViewWillLeave(){\n    this.qrScanner.destroy() \n\n  }\n\n  ionViewWillEnter(){\n  this.qrScanner.prepare()\n  .then((status: QRScannerStatus) => {\n     if (status.authorized) {\n       // camera permission was granted\n        console.log(\"coming\");\n\n       // start scanning\n       this.scanSub = this.qrScanner.scan().subscribe((text: string) => {\n         console.log('Scanned something', text);\n         this.ServiceCall(text)\n         this.scanSub.unsubscribe();\n         this.qrScanner.destroy() // stop scanning\n         \n       });\n\n       this.qrScanner.show()\n     \n\n     } else if (status.denied) {\n       // camera permission was permanently denied\n       this.qrScanner.openSettings() \n       // then they can grant the permission from there\n     } else {\n       // permission was denied, but not permanently. You can ask for permission again at a later time.\n     }\n  })\n  .catch((e: any) =>{\n    this.shared.displayNetworkUpdate(e);\n\n  } );\n\n}\n\n\n\nServiceCall(text){\n  if (navigator.onLine) {\n    this.shared.ServiceCallUsePoints.ServiceCallRequestUsePointsData(this.userId,text).then((res) => { \n      this.response=res;\n      if (this.response.message == 'error'){\n        // this.shared.displayNetworkUpdate(this.response.content)\n\n        this.showAlerts(this.response.content,\"Alert\")\n\n      }else{\n        // this.shared.displayNetworkUpdate('Successfully updated')\n        localStorage.setItem('profile', JSON.stringify(this.response));\n        this.showAlerts(\"Successfully redeemed\",\"Alert\")\n      }\n     \n      }, err => {\n   \n      })\n\n  }else{\n    this.shared.displayNetworkUpdate('No Internet Connection')\n\n  }\n\n\n}\n\n\npublic async showAlerts(connectionState: string,headerVal) {\n  const alert = await this.alertController.create({\n    header: headerVal,\n    subHeader: '',\n    message: connectionState,\n    buttons: [\n      {\n        text: 'Okay',\n        handler: () => {\n          this.router.navigate(['/menu/first/tabs/tab1']);\n\n        }\n      }\n    ]\n  });\n\n  await alert.present();\n}\n\n\n\n\n}\n"],"sourceRoot":""}
(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{DSGC:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),o=e("mrSG"),u=e("Enhb"),r=e("ZZ/e"),i=function(){function l(l,n){this.alertController=l,this.shared=n,this.currentColor="light"}return l.prototype.ngOnInit=function(){},l.prototype.ionViewDidEnter=function(){var l=this;navigator.onLine?this.shared.ServiceCalloffers.ServiceCallRequestoffersData().then(function(n){l.response=n,l.response=l.response.content.offers;var e=localStorage.getItem("profile");l.data=JSON.parse(e),l.userPoints=parseInt(l.data.content.profile.points),l.userId=l.data.content.profile.user_id},function(l){}):this.shared.displayNetworkUpdate("No Internet Connection")},l.prototype.Redeem=function(l){this.presentAlertConfirm(l)},l.prototype.presentAlertConfirm=function(l){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"",message:"Please redeem this offer only in front of the shopkeeper or ask the shopkeeper to redeem this offer for you",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(l){console.log("Confirm Cancel: blah")}},{text:"Redeem Now",handler:function(){navigator.onLine?n.shared.ServiceCallRedeem.ServiceCallRequestRedeemCodeData(n.userId,l.id).then(function(l){n.responseValue=l,"success"==n.responseValue.message?(localStorage.setItem("profile",JSON.stringify(n.responseValue)),n.shared.showAlert("Offer has been successfully redeemed","Congratulations")):n.shared.showAlert(n.responseValue.content,"Alert")},function(l){}):n.shared.displayNetworkUpdate("No Internet Connection")}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},l.prototype.Generate=function(l){var n=this;navigator.onLine?this.shared.ServiceCallGenerateCode.ServiceCallRequestGenerateCodeData(this.userId,l.id).then(function(l){n.responseValue=l,n.shared.showAlert(n.responseValue.content,"Offer Redeem Code")},function(l){}):this.shared.displayNetworkUpdate("No Internet Connection")},l}(),s=function(){return function(){}}(),a=e("pMnS"),c=e("Ip0R"),p=e("oBZk"),b=e("t/Na"),d=t.nb({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{width:100%;margin:0 auto;padding:10px;box-sizing:border-box}.control-group[_ngcontent-%COMP%]{box-shadow:0 1px 5px 1px rgba(176,175,175,.75);background:#fff;width:100%;border-radius:2px;margin-bottom:12px}.offer_img[_ngcontent-%COMP%]{height:70px;width:70px;border-radius:50%}.offer_bottom_section[_ngcontent-%COMP%]{padding:10px;border-top:1px solid #e1dfdf}.generate_code[_ngcontent-%COMP%], .redeem_code[_ngcontent-%COMP%]{color:#f58c29;padding:5px;cursor:pointer;font-size:15px}.Aplha[_ngcontent-%COMP%]{opacity:.3;pointer-events:none}"]],data:{}});function f(l){return t.Fb(0,[(l()(),t.pb(0,0,null,null,17,"div",[["class","control-group"]],null,null,null,null,null)),t.ob(1,278528,null,0,c.h,[t.s,t.t,t.k,t.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Ab(2,{Aplha:0}),(l()(),t.pb(3,0,null,null,7,"div",[["style","padding: 10px;box-sizing: border-box;width: 100%;"]],null,null,null,null,null)),(l()(),t.pb(4,0,null,null,4,"div",[["style","width: 73%;display: inline-block;vertical-align: top;margin-top: 15px;"]],null,null,null,null,null)),(l()(),t.pb(5,0,null,null,1,"h2",[["style","font-size: 14px;text-align: left;margin: 0;color:#5b5959;"]],null,null,null,null,null)),(l()(),t.Eb(6,null,["",""])),(l()(),t.pb(7,0,null,null,1,"span",[["style","font-size: 14px;text-align: left;margin: 0;color: #AAA7A4;;"]],null,null,null,null,null)),(l()(),t.Eb(8,null,[""," Points"])),(l()(),t.pb(9,0,null,null,1,"div",[["style","width: 25%;display: inline-block;"]],null,null,null,null,null)),(l()(),t.pb(10,0,null,null,0,"img",[["class","offer_img"]],[[8,"src",4]],null,null,null,null)),(l()(),t.pb(11,0,null,null,6,"div",[["class","offer_bottom_section"]],null,null,null,null,null)),(l()(),t.pb(12,0,null,null,2,"a",[["class","redeem_code"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.Redeem(l.context.$implicit)&&t),t},null,null)),(l()(),t.pb(13,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-tags"]],null,null,null,null,null)),(l()(),t.Eb(-1,null,[" Redeem Now"])),(l()(),t.pb(15,0,null,null,2,"a",[["class","generate_code"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.Generate(l.context.$implicit)&&t),t},null,null)),(l()(),t.pb(16,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-ticket"]],null,null,null,null,null)),(l()(),t.Eb(-1,null,[" Generate Code"]))],function(l,n){var e=l(n,2,0,n.component.userPoints<=n.context.$implicit.points);l(n,1,0,"control-group",e)},function(l,n){l(n,6,0,n.context.$implicit.title),l(n,8,0,n.context.$implicit.points),l(n,10,0,t.rb(1,"",n.context.$implicit.banner_image,""))})}function h(l){return t.Fb(0,[(l()(),t.pb(0,0,null,null,11,"ion-header",[],null,null,null,p.Y,p.q)),t.ob(1,49152,null,0,r.C,[t.h,t.k,t.z],null,null),(l()(),t.pb(2,0,null,0,9,"ion-toolbar",[],null,null,null,p.pb,p.H)),t.ob(3,49152,null,0,r.Db,[t.h,t.k,t.z],{color:[0,"color"]},null),(l()(),t.pb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,p.M,p.e)),t.ob(5,49152,null,0,r.m,[t.h,t.k,t.z],null,null),(l()(),t.pb(6,0,null,0,2,"ion-back-button",[["defaulthref",""]],null,[[null,"click"]],function(l,n,e){var o=!0;return"click"===n&&(o=!1!==t.zb(l,8).onClick(e)&&o),o},p.K,p.c)),t.ob(7,49152,null,0,r.h,[t.h,t.k,t.z],null,null),t.ob(8,16384,null,0,r.i,[[2,r.jb],r.Jb],null,null),(l()(),t.pb(9,0,null,0,2,"ion-title",[],null,null,null,p.ob,p.G)),t.ob(10,49152,null,0,r.Bb,[t.h,t.k,t.z],null,null),(l()(),t.Eb(-1,0,["Offers"])),(l()(),t.pb(12,0,null,null,4,"ion-content",[],null,null,null,p.S,p.k)),t.ob(13,49152,null,0,r.v,[t.h,t.k,t.z],null,null),(l()(),t.pb(14,0,null,0,2,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,f)),t.ob(16,278528,null,0,c.i,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var e=n.component;l(n,3,0,e.currentColor),l(n,16,0,e.response)},null)}function g(l){return t.Fb(0,[(l()(),t.pb(0,0,null,null,2,"app-offers",[],null,null,null,h,d)),t.Bb(512,null,u.a,u.a,[r.a,b.c,r.Ob,r.Gb]),t.ob(2,114688,null,0,i,[r.a,u.a],null,null)],function(l,n){l(n,2,0)},null)}var m=t.lb("app-offers",i,g,{},{},[]),x=e("gIcY"),C=e("ZYCi");e.d(n,"OffersPageModuleNgFactory",function(){return k});var k=t.mb(s,[],function(l){return t.wb([t.xb(512,t.j,t.bb,[[8,[a.a,m]],[3,t.j],t.x]),t.xb(4608,c.l,c.k,[t.u,[2,c.r]]),t.xb(4608,x.m,x.m,[]),t.xb(4608,r.b,r.b,[t.z,t.g]),t.xb(4608,r.Ib,r.Ib,[r.b,t.j,t.q]),t.xb(4608,r.Mb,r.Mb,[r.b,t.j,t.q]),t.xb(1073742336,c.b,c.b,[]),t.xb(1073742336,x.k,x.k,[]),t.xb(1073742336,x.d,x.d,[]),t.xb(1073742336,r.Fb,r.Fb,[]),t.xb(1073742336,C.o,C.o,[[2,C.u],[2,C.m]]),t.xb(1073742336,s,s,[]),t.xb(1024,C.k,function(){return[[{path:"",component:i}]]},[])])})}}]);